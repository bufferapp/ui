{"version":3,"file":"AppContainer.js","sourceRoot":"","sources":["../../../../src/documentation/app/AppContainer.tsx"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable no-nested-ternary */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Markdown from './layout/content/Markdown'\nimport Sidebar from './layout/sidebar/Sidebar'\nimport Component from './layout/content/Component'\n// @ts-expect-error TS(7016) FIXME: Could not find a declaration file for module '../.... Remove this comment to see the full error message\nimport componentData from '../../../config/componentData'\n// @ts-expect-error TS(7016) FIXME: Could not find a declaration file for module '../.... Remove this comment to see the full error message\nimport documentationData from '../../../config/documentsData'\nimport NavBar from './layout/navbar/NavBar'\nimport Home from './Home'\n// @ts-expect-error TS(2307) FIXME: Cannot find module '../markdown/UI.md' or its corr... Remove this comment to see the full error message\nimport UIComponent from '../markdown/UI.md'\nimport pckage from '../../../package.json'\n\nconst Container = styled.div`\n  width: 100%;\n  min-height: 100vh;\n  min-width: 1280px;\n  overflow: hidden;\n  color: #242a31;\n  background: #f5f7f9;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Wrapper = styled.div`\n  flex: 1;\n  display: flex;\n`\n\nconst PageLayout = styled.div`\n  flex: 1;\n  padding: 50px;\n  display: block;\n  box-sizing: border-box;\n  height: calc(100vh - 65px);\n  background: #ffffff url('./images/background.png');\n  background-size: cover;\n  overflow: auto;\n  border-right: 1px solid #e6ecf1;\n`\n\nconst PageContainer = styled.div`\n  background: #ffffff;\n  padding: 80px;\n  width: 100%;\n  max-width: 1312px;\n  margin: 0 auto;\n  border-radius: 3px;\n  box-sizing: border-box;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n`\n\n/** The main Documentation app container that renders other components */\nexport default class AppContainer extends React.Component {\n  // @ts-expect-error TS(7006) FIXME: Parameter 'props' implicitly has an 'any' type.\n  constructor(props) {\n    super(props)\n\n    this.onKeyDown = this.onKeyDown.bind(this)\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown)\n  }\n\n  /**\n   * Handle toggling /fullscreen mode\n   *\n   * @param {Event} event\n   */\n  // @ts-expect-error TS(7006) FIXME: Parameter 'event' implicitly has an 'any' type.\n  onKeyDown(event) {\n    // eslint-disable-line\n    const {\n      // @ts-expect-error TS(2339) FIXME: Property 'history' does not exist on type 'Readonl... Remove this comment to see the full error message\n      history,\n      // @ts-expect-error TS(2339) FIXME: Property 'location' does not exist on type 'Readon... Remove this comment to see the full error message\n      location: { pathname },\n    } = this.props\n    // Ignore non-component paths (i.e., markdown docs)\n    if (pathname.indexOf('/ui/') < 0) {\n      return\n    }\n    if (event.keyCode === 27) {\n      // escape\n      if (pathname.endsWith('/fullscreen')) {\n        const newPath = `${pathname.replace('/fullscreen', '')}`\n        history.push(newPath)\n      }\n    }\n    if (event.keyCode === 220 && !!event.shiftKey) {\n      // Shift + \\ (backslash)\n      let newPath = '/'\n      if (pathname.endsWith('/fullscreen')) {\n        newPath = `${pathname.replace('/fullscreen', '')}`\n      } else {\n        newPath = `${pathname}/fullscreen`\n      }\n      history.push(newPath)\n    }\n  }\n\n  // @ts-expect-error TS(7006) FIXME: Parameter 'pageParents' implicitly has an 'any' ty... Remove this comment to see the full error message\n  getFooterLinks = (pageParents, route) => {\n    if (!pageParents) return\n    // get the index of the navigation link of the current page\n    // in order to show the next and previous links at the bottom of each page\n    const linkIndex = pageParents.children.findIndex(\n      // @ts-expect-error TS(7006) FIXME: Parameter 'link' implicitly has an 'any' type.\n      (link) => link.id === route,\n    )\n    const previousLink = pageParents.children[linkIndex - 1]\n    const nextLink = pageParents.children[linkIndex + 1]\n    const links = []\n    if (previousLink) links.push(previousLink)\n    if (nextLink) links.push(nextLink)\n    console.info(links)\n    return links\n  }\n\n  renderMarkdownComponent = () => (\n    // @ts-expect-error TS(2769) FIXME: No overload matches this call.\n    <Markdown page={{ name: 'UI' }} component={UIComponent} links={[]} />\n  )\n\n  render() {\n    const {\n      // @ts-expect-error TS(2339) FIXME: Property 'match' does not exist on type 'Readonly<... Remove this comment to see the full error message\n      match: {\n        params: { route, location, view },\n      },\n    } = this.props\n\n    const isHome = location === 'GettingStarted' && route === 'getting-started'\n    const isUIRoot = location === 'ui' && route === 'ui'\n\n    // by convention, the route in the url should match the components name\n    // if there's no component specified, just show the first component in the list\n    const component =\n      location === 'ui'\n        ? // @ts-expect-error TS(7006) FIXME: Parameter 'x' implicitly has an 'any' type.\n          componentData.children.filter((x) => x.id === route)[0]\n        : null\n\n    // concatenate the documentation data and the components data\n    // to construct the links in the sidebar\n    const navigationLinks = [...documentationData, componentData]\n\n    // from the documentation data, find the current page parent\n    // in order to be able to identify the child we need to show on the page\n    const pageParents = documentationData.filter(\n      // @ts-expect-error TS(7006) FIXME: Parameter 'x' implicitly has an 'any' type.\n      (x) => x.fileName === location,\n    )[0]\n\n    // find the child page we need to show\n    const page =\n      // @ts-expect-error TS(7006) FIXME: Parameter 'x' implicitly has an 'any' type.\n      pageParents && pageParents.children.filter((x) => x.id === route)[0]\n\n    // dynamically import the documentation component\n    // based on the location and fileName we are currently requesting\n    const PageComponent =\n      page && require(`../markdown/${location}/${page.fileName}.md`)\n\n    if (view === 'fullscreen') {\n      return <Component component={component} fullscreen />\n    }\n\n    return (\n      <Container>\n        <NavBar title=\"Buffer UI\" version={pckage.version} />\n        <Wrapper>\n          {/* @ts-expect-error TS(2322) FIXME: Type '{ navigationLinks: any[]; route: any; }' is ... Remove this comment to see the full error message */}\n          <Sidebar navigationLinks={navigationLinks} route={route} />\n          <PageLayout>\n            <PageContainer>\n              {isHome ? (\n                <Home />\n              ) : isUIRoot ? (\n                this.renderMarkdownComponent()\n              ) : component ? (\n                <Component component={component} />\n              ) : (\n                <Markdown\n                  // @ts-expect-error TS(2769) FIXME: No overload matches this call.\n                  component={PageComponent}\n                  page={page}\n                  links={() => this.getFooterLinks(pageParents, route)}\n                />\n              )}\n            </PageContainer>\n          </PageLayout>\n        </Wrapper>\n      </Container>\n    )\n  }\n}\n\n// @ts-expect-error TS(2339) FIXME: Property 'propTypes' does not exist on type 'typeo... Remove this comment to see the full error message\nAppContainer.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string,\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      route: PropTypes.string.isRequired,\n      location: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n}\n"]}