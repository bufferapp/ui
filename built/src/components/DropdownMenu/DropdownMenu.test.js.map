{"version":3,"file":"DropdownMenu.test.js","sourceRoot":"","sources":["../../../../src/components/DropdownMenu/DropdownMenu.test.tsx"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-filename-extension */\nimport React from 'react'\n// @ts-expect-error TS(7016) FIXME: Could not find a declaration file for module 'enzy... Remove this comment to see the full error message\nimport Enzyme, { mount } from 'enzyme'\n// @ts-expect-error TS(7016) FIXME: Could not find a declaration file for module 'enzy... Remove this comment to see the full error message\nimport Adapter from 'enzyme-adapter-react-16'\nimport DropdownMenu from './DropdownMenu'\nimport { keyCode } from './keyCode'\n\nEnzyme.configure({ adapter: new Adapter() })\n\nconst items = [\n  {\n    id: '1',\n    title: 'FAQ',\n    onItemClick: jest.fn(),\n  },\n  {\n    id: '2',\n    title: 'Status',\n    onItemClick: jest.fn(),\n  },\n  {\n    id: '3',\n    title: 'Pricing & Plans',\n    onItemClick: jest.fn(),\n  },\n  {\n    id: '4',\n    title: 'Wishlist',\n    onItemClick: jest.fn(),\n  },\n]\n\ndescribe('DropdownMenu component', () => {\n  it('should open the closed popup and select an option', () => {\n    const wrapper = mount(\n      <DropdownMenu\n        // @ts-expect-error TS(2322) FIXME: Type '{ ariaLabel: string; ariaLabelPopup: string;... Remove this comment to see the full error message\n        ariaLabel=\"Help Menu\"\n        ariaLabelPopup=\"Help\"\n        menubarItem={<a href=\"/#\">Help</a>}\n        items={items}\n        xPosition=\"left\"\n      />,\n    )\n\n    const instance = wrapper.instance()\n    expect(wrapper.state().isOpen).toBe(false)\n\n    instance.togglePopup()\n    expect(wrapper.state().isOpen).toBe(true)\n\n    const menuItems = wrapper.find('button')\n    expect(menuItems).toHaveLength(4)\n\n    const firstButton = menuItems.at(0)\n    firstButton.simulate('click')\n\n    expect(instance.props.items[0].onItemClick).toHaveBeenCalled()\n    expect(instance.props.items[0].onItemClick).toHaveBeenCalledTimes(1)\n\n    wrapper.unmount()\n  })\n\n  it('should navigate menu with with keyboard and select an option', () => {\n    const wrapper = mount(\n      <DropdownMenu\n        // @ts-expect-error TS(2322) FIXME: Type '{ ariaLabel: string; ariaLabelPopup: string;... Remove this comment to see the full error message\n        ariaLabel=\"Help Menu\"\n        ariaLabelPopup=\"Help\"\n        menubarItem={<a href=\"/#\">Help Menu</a>}\n        items={items}\n        xPosition=\"left\"\n      />,\n    )\n\n    const dropdownInstance = wrapper.instance()\n    const helpMenuButton = wrapper.find('a').at(0)\n    helpMenuButton.simulate('keydown', {\n      key: 'Enter',\n      keyCode: keyCode.RETURN,\n    })\n    expect(wrapper.state().isOpen).toBe(true)\n\n    const popupMenu = wrapper.find('PopupMenu')\n    const popupMenuInstance = popupMenu.instance()\n    expect(popupMenuInstance.state.focusedItem).toBe(0)\n\n    popupMenu.simulate('keydown', { key: 'Down', keyCode: keyCode.DOWN })\n    expect(popupMenuInstance.state.focusedItem).toBe(1)\n\n    popupMenu.simulate('keydown', { key: 'Down', keyCode: keyCode.DOWN })\n    expect(popupMenuInstance.state.focusedItem).toBe(2)\n\n    const menuItems = wrapper.find('button')\n    const itemButton = menuItems.at(2)\n    itemButton.simulate('keydown', { key: 'Enter', keyCode: keyCode.RETURN })\n\n    expect(dropdownInstance.props.items[2].onItemClick).toHaveBeenCalled()\n    expect(dropdownInstance.props.items[2].onItemClick).toHaveBeenCalledTimes(1)\n\n    popupMenu.simulate('keydown', { key: 'Escape', keyCode: keyCode.ESC })\n    expect(wrapper.state().isOpen).toBe(false)\n\n    wrapper.unmount()\n  })\n})\n"]}